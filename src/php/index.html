

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>目录读取</title>
</head>
<body>
  <!-- 使用 type="file" 和 webkitdirectory 实现选择目录 -->
  <input type="file" id="fileInput" webkitdirectory>

  <div id="output"></div>
  <script>
    (function () {
      /** @type {HTMLInputElement} */
      const fileInput = document.querySelector('#fileInput');

      /** @type {HTMLPreElement} */
      const output = document.querySelector('#output');

      fileInput.addEventListener('change', () => {
        // 通过files获取选择的文件列表
        const list = fileInput.files;
        if (!list) {
          return;
        }

        // 输出文件名
        Array.from(list).forEach((file) => {
          const div = document.createElement('div');
          div.innerText = file.name;
          output.appendChild(div);
        });
      });
    })()
  </script>
</body>
</html>